# 데이터베이스 마이그레이션 안내

이 문서에는 새로운 프로필 기능을 지원하기 위해 Supabase 데이터베이스 스키마를 업데이트하는 방법이 포함되어 있습니다.

## 마이그레이션 단계

1. Supabase 대시보드에 로그인합니다.
2. SQL 편집기 섹션으로 이동합니다.
3. `migration.sql` 파일의 전체 내용을 복사합니다.
4. SQL 편집기에서 새 SQL 쿼리를 생성합니다.
5. 마이그레이션 SQL을 붙여넣고 실행합니다.
6. 테이블 편집기에서 `signatures` 테이블에 `author_name` 및 `profile_image` 열이 추가되었는지 확인합니다.

## 이 마이그레이션이 수행하는 작업

이 마이그레이션은 `signatures` 테이블에 두 개의 새 열을 추가합니다:
- `author_name`: 각 서명 작성자의 칸예 관련 이름을 저장합니다.
- `profile_image`: 각 작성자의 프로필 이미지 경로를 저장합니다.

마이그레이션은 다음과 같은 특징이 있습니다:
1. 이미 열이 존재하는지 확인한 후 추가하므로 여러 번 실행해도 안전합니다.
2. 기존 레코드에 대해서는 각 레코드마다 고유한 랜덤 프로필 이미지(k1.gif - k8.gif)를 할당합니다.
3. 작성자 이름은 아직 "Ye Fan"이라는 기본값으로 설정되지만, 새로운 서명은 API를 통해 생성된 독특한 이름을 갖게 됩니다.

## 문제 해결

마이그레이션을 적용하는 데 문제가 발생한 경우:

1. Supabase 데이터베이스에 적절한 권한이 있는지 확인하세요.
2. `signatures` 테이블이 이미 존재하는지 확인하세요.
3. Supabase SQL 편집기에서 SQL 결과를 볼 수 있는지 확인하세요.
4. 문제를 분리하기 위해 SQL 문을 하나씩 실행해 보세요. 